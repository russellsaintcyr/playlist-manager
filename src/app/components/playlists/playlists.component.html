@if (playlists !== null) {
  <div class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <span class="text-muted">
        Showing {{ playlists.offset }} to
        @if (playlists.next !== null) {
          <span>{{ playlists.limit + playlists.offset }}</span>
        }
        @if (playlists.next === null) {
          <span>{{ playlists.total }}</span>
        }
        of {{ playlists.total }} playlists.
      </span>
      <div>
        @if (playlists.previous !== null) {
          <a class="btn btn-outline-secondary me-2" (click)="loadOffset(playlists.previous)" href="javascript:void(0)">Previous</a>
        }
        @if (playlists.next !== null) {
          <a class="btn btn-outline-secondary" (click)="loadOffset(playlists.next)" href="javascript:void(0)">Next</a>
        }
      </div>
    </div>
    
    <div class="row">
      @for (playlist of playlists.items; track playlist; let i = $index) {
        <div class="col-lg-2 col-md-4 col-6 mb-3">
          <div class="card h-100 playlist-card" (mousedown)="onPlaylistClick($event, playlist)" style="cursor: pointer;">
            <div class="image-container">
              <img
                [src]="playlist.images[0]?.url"
                class="card-img-top playlist-image"
                style="width: 100%; object-fit: cover; aspect-ratio: 1/1;"
                alt="Playlist cover"
                />
              <div class="overlay">
                <div class="overlay-content">
                  <div class="overlay-item">
                    <strong>{{ playlist.tracks.total }} tracks</strong>
                  </div>
                  <div class="overlay-item">
                    <strong>Owner</strong><br>
                    {{ playlist.owner.display_name }}
                  </div>
                  <div class="overlay-item">
                    <strong>{{ playlist.public ? 'Public' : 'Private' }}</strong>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body text-center py-1" style="min-height: 40px; background-color: white;">
              <h6 class="card-title mb-0 text-dark" style="font-weight: bold;">{{ playlist.name }}</h6>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
}

<div>
  <a (click)="refreshPlaylists()" href="javascript:void(0)">Refresh playlists</a>
</div>
<br /><br /><br />
